
actionSnipets:
  linux:
    all:
     environment:
       - pkgsDir: packages
       - dlsDir: $pkgsDir/downloads
       - pkgDir: $pkgsDir/$pkgName
       - installPrefix: ../../local
    gitHubDownload:
      environment:
        - url: https://github.com/${repoPath}/archive/refs/tags/${repoVersion}.tar.gz
        - tarFile: ${pkgName}-${repoVersion}.tar.gz
        - dlName: $dlsDir/$tarFile
      actions:
        - mkdir -p $dlsDir
        - mkdir -p $pkgDir
        - curl --location --output $dlName $url
        - tar xf $dlName --strip-components=1 --directory=$pkgDir
      tools:
        - curl
        - tar
    cmakeCompile:
      actions:
        -  mkdir -p $pkgDir/build
        -  cd $pkgDir/build
        - - cmake ..
          - -D CMAKE_GENERATOR=Ninja
          - -D CMAKE_PREFIX_PATH=$installPrefix
          - -D CMAKE_INSTALL_PREFIX=$installPrefix
        -  ninja -j $(nproc) install
      tools:
        - cmake
        - ninja
